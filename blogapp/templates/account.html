{% extends 'layout.html' %}

{% block content %}
<div class="content-section">
  <div class="median ment">
     <img class="round-circle account-img" src="{{ image_file }}">
       <div class="media-body">
          <h2 class="account-heading"> {{current_user.username}}</h2>
           <P class="text-secondary"> {{current_user.email}}</P>
        </div>
  </div>
   <div class="blog-comment p-5">
     <form method="POST" action="" style="margin: 20px;width: 75%; margin: auto" enctype="multipart/form-data">
       {{ form.hidden_tag() }}

        <fieldset class="form-group m-3">
            <legend class="border-bottom mb-5 text-info"> Account Info </legend>
            <div class="form-group">
                {{ form.username.label(class= "form-control-label") }}
                {% if form.username.errors %}
                    {{ form.username(class= "form-control form-control-lg is-invalid") }}
                    <div class="invalid-feedback">
                         {% for error in form.username.errors %}
                           <span class="alert-danger"> {{ error }} </span>
                         {% endfor%}
                    </div>
                {% else%}
                     {{ form.username(class= "form-control form-control-lg") }}
                {% endif%}
            </div>

            <div class="form-group">
                {{ form.email.label(class= "form-control-label") }}
               {% if form.email.errors %}
                   {{ form.email(class= "form-control form-control-lg is-invalid") }}
                    <div class="invalid-feedback">
                         {% for error in form.email.errors%}
                           <span class="alert-danger"> {{ error }} </span>
                         {% endfor%}
                    </div>
                {% else %}
                     {{ form.email(class= "form-control form-control-lg") }}
                {% endif%}
            </div>
        </fieldset>
           <div class="form-group">
                {{ form.picture.label() }}
                {{ form.picture(class= "form-control-file") }}
               {% if form.picture.errors %}
                 {% for error in form.picture.errors%}
               <span class="alert-danger"> {{ error }} </span> </br>
                 {% endfor %}
               {% endif %}
            </div>

         <div class="form-group" style="padding-top: 20px">
            {{ form.submit( class="btn btn-outline-info bg-primary" ) }}
             <span class="post"> <a href="{{url_for('posts.new_post') }}"> Create Post</a></span>
        </div>
     </form>
   </div>
</div>
{% endblock content %}